<div id="zen-signin-form">
    <div *ngIf="_onSigninPage else signinNavigation">
        <div *ngIf="_accountForm && _passwordForm">
            <form [formGroup]="_accountForm" (submit)="validateEmail()" *ngIf="!_accountValid else signinForm">
                <h3 class="mb-4">Sign in</h3>
        
                <div class="mt-3">
                    <mat-form-field appearance="fill" class="w-100">
                      <mat-label>Enter your email</mat-label>
                      <input matInput formControlName="email" autocomplete="off" tabindex="1" required>
                      <mat-error *ngIf="_accountForm.get('email').getError('invalidEmail')">{{_messages.RESULT_MESSAGE_INVALID_EMAIL_ERROR}}</mat-error>
                    </mat-form-field>
                </div>
        
                <div class="text-right">
                    <button type="submit" class="btn zen-btn-primary zen-btn-header ml-3 mt-3" tabindex="1" [disabled]="!formValid(_accountForm)">Next</button>
        
                    <div class="mt-3">
                        <a href="#" class="zen-primary-link" tabindex="1">Forgot my email</a>
                    </div>
                </div>
            </form>
            <ng-template #signinForm>
                <form [formGroup]="_passwordForm" (submit)="signin()" *ngIf="_accountValid" @slide-right>
                    <h3 class="mb-4">Sign in</h3>

                    <div class="mt-3">
                        <mat-form-field appearance="fill" class="w-100">
                            <mat-label>Enter your password</mat-label>
                            <input matInput type="password" formControlName="password" autocomplete="off" tabindex="1" required>
                            <mat-error *ngIf="_passwordForm.get('password').getError('signinFailed')">{{_messages.RESULT_MESSAGE_SIGNIN_ERROR}}</mat-error>
                        </mat-form-field>
                    </div>
            
                    <div class="text-right">
                        <button type="submit" class="btn zen-btn-primary zen-btn-header ml-3 mt-3" tabindex="1" [disabled]="!formValid(_passwordForm)">Sign in</button>
            
                        <div class="mt-3">
                            <a href="#" class="zen-primary-link" tabindex="1">Forgot my password</a>
                        </div>
                    </div>
                </form>
            </ng-template>
        </div>
    </div>
    <ng-template #signinNavigation>
        <h3>Returning user?</h3>
        <button type="button" class="btn zen-btn-outline-solid zen-auth-option mr-2" routerLink="/signin" tabindex="1">Sign in to Zenify</button>
    </ng-template>
</div>